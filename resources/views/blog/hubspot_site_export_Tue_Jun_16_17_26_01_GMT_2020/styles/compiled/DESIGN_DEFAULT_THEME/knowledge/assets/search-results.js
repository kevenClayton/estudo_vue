window.URLSearchParams=window.URLSearchParams||function(e){var t=this;t.searchString=e,t.get=function(e){var r=new RegExp("[?&]"+e+"=([^&#]*)").exec(t.searchString);return null==r?null:decodeURIComponent(r[1])||0}};var hsResultsPage=function(e){var t,r,n=window.location,a=new URLSearchParams(n.search),o=a.get("term")||"",s=a.get("offset")||0,c=(a.get("portalId"),a.get("limit")||10),l=function(e){var t=e,r=t.querySelector(".kb-search-results__template"),n=t.querySelector(".kb-search-results__listing"),a=t.querySelector(".kb-search-results__pagination").getAttribute("data-search-path"),l=t.querySelector(".kb-search-results__prev-page"),u=t.querySelector(".kb-search-results__next-page"),i=t.querySelector(".kb-search-results__heading"),h=function(e){e.results.forEach((function(e,t){i.textContent=i.getAttribute("data-lang-with-results"),function(e,t,a,o,s){var c=document.createElement("div");c.innerHTML=r.innerHTML,(c=c.firstElementChild).querySelector(".kb-search-results__title").innerHTML=e,c.querySelector(".kb-search-results__title").href=t,c.querySelector(".kb-search-results__cat").innerHTML=a,null!=o?c.querySelector(".kb-search-results__subcat-text").innerHTML=o:c.querySelector(".kb-search-results__subcat").innerHTML="",c.querySelector(".kb-search-results__description").innerHTML=s,n.appendChild(c)}(e.title,e.url,e.category,e.subcategory,e.description)}))},d=function(){l.innerHTML="",u.innerHTML=""},g=function(e,t,r){var a=document.querySelector(".kb-search").getAttribute("kb-language-tag"),o="/_hcms/search?term="+encodeURIComponent(t)+"&language="+encodeURIComponent(a)+"&offset="+encodeURIComponent(r)+"&type=KNOWLEDGE_ARTICLE&analytics=true",s=new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(s.status>=200&&s.status<400){var e=JSON.parse(s.responseText);e.total>0?(h(e),p(e.total,e.page)):(!function(){i.textContent=i.getAttribute("data-lang-no-results");var e=document.createElement("p"),t=document.createElement("p");e.textContent=n.getAttribute("data-lang-heading"),t.textContent=n.getAttribute("data-lang-message"),n.appendChild(e),n.appendChild(t)}(),d())}else console.error("Server reached, error retrieving results.")},s.onerror=function(){console.error("Could not reach the server.")},s.send()},p=function(e,t){if(t>0){var r=a+"?term="+encodeURIComponent(o)+"&offset="+encodeURIComponent(t*c-c)+"&type=KNOWLEDGE_ARTICLE";l.href=r,l.innerHTML="&lt; "+l.getAttribute("data-lang")}else l.parentNode.removeChild(l);if(s<e-c){var n=a+"?term="+encodeURIComponent(o)+"&offset="+encodeURIComponent(t*c+c)+"&type=KNOWLEDGE_ARTICLE";u.href=n,u.innerHTML=u.getAttribute("data-lang")+" &gt;"}else u.parentNode.removeChild(u)};o.length>0?g(0,o,s):d()};r=document.querySelectorAll(e),Array.prototype.forEach.call(r,(function(e){l(e)})),t=document.querySelectorAll(".kb-search__input"),Array.prototype.forEach.call(t,(function(e){e.value=o}))},resultsPages=hsResultsPage(".kb-search-results");